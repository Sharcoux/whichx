<html>
    <head>
        <meta charset="UTF-8" />
        <title>Which Pet - Naive Bayes Classifier</title>
        <script src="whichpet.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
        <script>           
            $(document).ready(function(){
                // Create the Whichpet object. 
                var whichpet = new Whichpet();
				// Set up inputs to take description and label.
                $('#input input[type=button]').click(function(){
                    var label = $('#input').find('select option:selected').val();
                    var description = $('#input').find('input[type=text]').val();
                    whichpet.addData(label, description);
                    alert('Your description has been added to '+label);
                });
				// Set up which pet to try and guess animal label.
                $('#which-pet input[type=button]').click(function(){
                    var description = $('#which-pet').find('input[type=text]').val();
                    alert('Is it a '+whichpet.classify(description)+'?');
                });
                // Load labels into data set.
                var labels = ["cat","dog","fish","horse","bird","reptile"];
                whichpet.addLabels(labels);
				// Load JSON training set and input training set into data map.
                // Please note - getJSON over local file protocol doesn't work well.
				$.getJSON("training-set.json", function(data) {
					for(var i = 0; i < data.pets.length; i++){ 
                        whichpet.addData(data.pets[i].label, data.pets[i].description);
                    }
				});
            });
        </script>
    </head>
    <body>
    
        <hr />
    
        <h2>Input</h2>
        <p>
            Input the type of pet in the label field and your description in the 
            description field and hit submit to add your description to the map of 
            learned pet descriptions.
        </p>
        <form id="input">
            <p>
                Label: 
                <select name="label">
                    <option value="cat">Cat</option>
                    <option value="dog">Dog</option>
                    <option value="fish">Fish</option>
                    <option value="bird">Bird</option>
                    <option value="reptile">Reptile</option>
                </select>
            </p>
            <p>Description: <input type="text" name="description" maxlength="140" /></p>
            <p><input type="button" value="Submit" /></p>
        </form>
        
        <hr />
        
        <h2>Try Me</h2>
        <p>
            Put the description of your pet in the description field and hit the 
            'Which Pet' button to see which type of pet the description will be 
            classified as.
        </p>
        <form id="which-pet">
            <p>Description: <input type="text" name="description" maxlength="140" /></p>
            <p><input type="button" value="Which Pet" /></p>
        </form>
        
        <hr />
        
    </body>
</html>